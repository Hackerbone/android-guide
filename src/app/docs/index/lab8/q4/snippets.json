{
  "snippets": [
    {
      "codeblockTitle": "MainActivity.java",
      "code": "\npackage com.example.myapplication;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.graphics.Insets;\nimport androidx.core.view.ViewCompat;\nimport androidx.core.view.WindowInsetsCompat;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n    private GroceryDatabaseHelper databaseHelper;\n    private Spinner itemSpinner;\n    private EditText priceEditText;\n    private Button addItemButton;\n    private ListView selectedItemsListView;\n    private TextView totalCostTextView;\n\n    private List<String> availableItems;\n    private List<String> selectedItems;\n    private ArrayAdapter<String> spinnerAdapter;\n    private ArrayAdapter<String> listAdapter;\n\n    private double totalCost = 0.0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\n            return insets;\n        });\n\n        // Initialize database helper\n        databaseHelper = new GroceryDatabaseHelper(this);\n\n        // Initialize views\n        itemSpinner = findViewById(R.id.itemSpinner);\n        priceEditText = findViewById(R.id.priceEditText);\n        addItemButton = findViewById(R.id.addItemButton);\n        selectedItemsListView = findViewById(R.id.selectedItemsListView);\n        totalCostTextView = findViewById(R.id.totalCostTextView);\n\n        // Initialize lists\n        selectedItems = new ArrayList<>();\n        availableItems = databaseHelper.getAllGroceryItemNames();\n\n        // If no items in database, add default items\n        if (availableItems.isEmpty()) {\n            databaseHelper.addGroceryItem(\"Milk\", 3.50);\n            databaseHelper.addGroceryItem(\"Bread\", 2.25);\n            databaseHelper.addGroceryItem(\"Eggs\", 4.00);\n            databaseHelper.addGroceryItem(\"Cheese\", 5.75);\n            availableItems = databaseHelper.getAllGroceryItemNames();\n        }\n\n        // Setup spinner adapter\n        spinnerAdapter = new ArrayAdapter<>(this, android.R.layout.simple_spinner_item, availableItems);\n        spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        itemSpinner.setAdapter(spinnerAdapter);\n\n        // Setup list adapter for selected items\n        listAdapter = new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, selectedItems);\n        selectedItemsListView.setAdapter(listAdapter);\n\n        // Auto-fill price when item is selected\n        itemSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\n                String selectedItem = availableItems.get(position);\n                double price = databaseHelper.getItemPrice(selectedItem);\n                priceEditText.setText(String.format(Locale.getDefault(), \"%.2f\", price));\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView<?> parent) {}\n        });\n\n        // Add item button click listener\n        addItemButton.setOnClickListener(v -> addSelectedItem());\n    }\n\n    private void addSelectedItem() {\n        String selectedItem = (String) itemSpinner.getSelectedItem();\n        String priceStr = priceEditText.getText().toString();\n\n        if (priceStr.isEmpty()) {\n            Toast.makeText(this, \"Please enter a price\", Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        double price = Double.parseDouble(priceStr);\n\n        // Add to selected items list\n        String itemEntry = String.format(Locale.getDefault(), \"%s - $%.2f\", selectedItem, price);\n        selectedItems.add(itemEntry);\n        listAdapter.notifyDataSetChanged();\n\n        // Update total cost\n        totalCost += price;\n        updateTotalCost();\n\n        // Clear price input\n        priceEditText.setText(\"\");\n    }\n\n    private void updateTotalCost() {\n        totalCostTextView.setText(String.format(Locale.getDefault(), \"Total Cost: $%.2f\", totalCost));\n    }\n}\n"
    },
    {
      "codeblockTitle": "GroceryDatabaseGelper.java",
      "code": "\npackage com.example.myapplication;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GroceryDatabaseHelper extends SQLiteOpenHelper {\n    private static final String DATABASE_NAME = \"grocery_database\";\n    private static final int DATABASE_VERSION = 1;\n\n    // Table and column names\n    private static final String TABLE_GROCERY_ITEMS = \"grocery_items\";\n    private static final String COLUMN_ID = \"id\";\n    private static final String COLUMN_NAME = \"name\";\n    private static final String COLUMN_PRICE = \"price\";\n\n    // Create table SQL\n    private static final String CREATE_TABLE_GROCERY_ITEMS =\n            \"CREATE TABLE IF NOT EXISTS \" + TABLE_GROCERY_ITEMS + \" (\"\n                    + COLUMN_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n                    + COLUMN_NAME + \" TEXT UNIQUE, \"\n                    + COLUMN_PRICE + \" REAL)\";\n\n    public GroceryDatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_TABLE_GROCERY_ITEMS);\n        Log.d(\"DB\", \"Database table created.\");\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_GROCERY_ITEMS);\n        onCreate(db);\n    }\n\n    // Method to add a grocery item\n    public void addGroceryItem(String name, double price) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COLUMN_NAME, name);\n        values.put(COLUMN_PRICE, price);\n        db.insertWithOnConflict(TABLE_GROCERY_ITEMS, null, values, SQLiteDatabase.CONFLICT_IGNORE);\n    }\n\n    // Method to get all grocery item names\n    public List<String> getAllGroceryItemNames() {\n        List<String> itemNames = new ArrayList<>();\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(\"SELECT name FROM \" + TABLE_GROCERY_ITEMS, null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                itemNames.add(cursor.getString(0));\n            } while (cursor.moveToNext());\n        } else {\n            Log.d(\"DB\", \"No grocery items found.\");\n        }\n        cursor.close();\n        return itemNames;\n    }\n\n    // Method to get price of a specific item\n    public double getItemPrice(String itemName) {\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(\"SELECT price FROM \" + TABLE_GROCERY_ITEMS + \" WHERE name = ?\", new String[]{itemName});\n\n        double price = 0;\n        if (cursor.moveToFirst()) {\n            price = cursor.getDouble(0);\n        }\n        cursor.close();\n        return price;\n    }\n}\n"
    },
    {
      "codeblockTitle": "activity_main.xml",
      "code": "\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\">\n\n    <Spinner\n        android:id=\"@+id/itemSpinner\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"16dp\"/>\n\n    <EditText\n        android:id=\"@+id/priceEditText\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Enter Item Price\"\n        android:inputType=\"numberDecimal\"\n        app:layout_constraintTop_toBottomOf=\"@id/itemSpinner\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"16dp\"/>\n\n    <Button\n        android:id=\"@+id/addItemButton\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Add Item\"\n        app:layout_constraintTop_toBottomOf=\"@id/priceEditText\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"16dp\"/>\n\n    <ListView\n        android:id=\"@+id/selectedItemsListView\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintTop_toBottomOf=\"@id/addItemButton\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintBottom_toTopOf=\"@id/totalCostTextView\"\n        android:layout_marginTop=\"16dp\"/>\n\n    <TextView\n        android:id=\"@+id/totalCostTextView\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Total Cost: $0.00\"\n        android:textSize=\"18sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:padding=\"16dp\"/>\n\n</androidx.constraintlayout.widget.ConstraintLayout>"
    }
  ]
}
