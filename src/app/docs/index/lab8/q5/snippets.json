{
  "snippets": [
    {
      "codeblockTitle": "MainActivity.java",
      "code": "\npackage com.example.myapplication;\n\nimport android.os.Bundle;\nimport android.text.Spannable;\nimport android.text.SpannableString;\nimport android.text.style.BackgroundColorSpan;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.PopupMenu;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.activity.EdgeToEdge;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.ContextCompat;\nimport androidx.core.graphics.Insets;\nimport androidx.core.view.ViewCompat;\nimport androidx.core.view.WindowInsetsCompat;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n    private TextView documentTextView; // Displays the document content\n    private String originalContent; // Stores the original content\n    private List<String> paragraphs; // Stores paragraphs for manipulation\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        EdgeToEdge.enable(this);\n        setContentView(R.layout.activity_main);\n\n        // Handle system bars insets for better UI adjustments\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\n            return insets;\n        });\n\n        // Initialize the TextView for displaying content\n        documentTextView = findViewById(R.id.document_text);\n\n        // Load the document content from resources\n        originalContent = getString(R.string.digital_transformation_content);\n        documentTextView.setText(originalContent);\n\n        // Split content into paragraphs for filtering/sorting\n        paragraphs = new ArrayList<>(Arrays.asList(originalContent.split(\"\n\n\")));\n\n        // Setup the filter button to open the menu\n        findViewById(R.id.filter_button).setOnClickListener(this::showFilterMenu);\n    }\n\n    // Displays a popup menu for filtering, searching, highlighting, and sorting\n    private void showFilterMenu(View view) {\n        PopupMenu popupMenu = new PopupMenu(this, view);\n        popupMenu.getMenuInflater().inflate(R.menu.filter_menu, popupMenu.getMenu());\n\n        popupMenu.setOnMenuItemClickListener(item -> {\n            int itemId = item.getItemId();\n\n            if (itemId == R.id.menu_search) {\n                showSearchDialog(); // Open search dialog\n                return true;\n            } else if (itemId == R.id.menu_highlight) {\n                showHighlightDialog(); // Open highlight dialog\n                return true;\n            } else if (itemId == R.id.menu_sort_alphabetical) {\n                sortContentAlphabetically(); // Sort paragraphs alphabetically\n                return true;\n            } else if (itemId == R.id.menu_sort_relevance) {\n                sortContentByRelevance(); // (Not implemented)\n                return true;\n            }\n\n            return false;\n        });\n\n        popupMenu.show();\n    }\n\n    // Shows a dialog box to input a search keyword\n    private void showSearchDialog() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        View dialogView = getLayoutInflater().inflate(R.layout.dialog_search, null);\n        EditText searchEditText = dialogView.findViewById(R.id.search_edit_text);\n\n        builder.setTitle(\"Search Keywords\")\n                .setView(dialogView)\n                .setPositiveButton(\"Search\", (dialog, which) -> {\n                    String keyword = searchEditText.getText().toString().trim().toLowerCase(Locale.ROOT);\n                    performSearch(keyword);\n                })\n                .setNegativeButton(\"Cancel\", null)\n                .create()\n                .show();\n    }\n\n    // Performs a search operation and updates the displayed text\n    private void performSearch(String keyword) {\n        Log.d(\"SearchDebug\", \"Searching for: \" + keyword);\n\n        if (keyword.isEmpty()) {\n            documentTextView.setText(originalContent);\n            return;\n        }\n\n        List<String> matchingParagraphs = new ArrayList<>();\n        for (int i = 0; i < paragraphs.size(); i++) {\n            String paragraph = paragraphs.get(i);\n            if (paragraph.toLowerCase(Locale.ROOT).contains(keyword)) {\n                matchingParagraphs.add(paragraph);\n\n                // Show Toast for each match with the paragraph number\n                String toastMessage = \"Found in paragraph \" + (i + 1) + \": \" + paragraph.substring(0, Math.min(paragraph.length(), 100)) + \"...\";\n                Toast.makeText(this, toastMessage, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        if (matchingParagraphs.isEmpty()) {\n            Toast.makeText(this, \"No results found\", Toast.LENGTH_SHORT).show();\n            Log.d(\"SearchDebug\", \"No results found for: \" + keyword);\n            return;\n        }\n\n        Log.d(\"SearchDebug\", \"Found matches: \" + matchingParagraphs.size());\n\n        runOnUiThread(() -> { // Ensure UI updates correctly\n            documentTextView.setText(String.join(\"\n\n\", matchingParagraphs));\n            documentTextView.invalidate(); // Force UI refresh\n        });\n    }\n\n    // Shows a dialog to input a word for highlighting\n    private void showHighlightDialog() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        View dialogView = getLayoutInflater().inflate(R.layout.dialog_search, null);\n        EditText highlightEditText = dialogView.findViewById(R.id.search_edit_text);\n        highlightEditText.setHint(\"Enter word to highlight\");\n\n        builder.setTitle(\"Highlight Words\")\n                .setView(dialogView)\n                .setPositiveButton(\"Highlight\", (dialog, which) -> {\n                    String highlightWord = highlightEditText.getText().toString().trim();\n                    highlightText(highlightWord);\n                })\n                .setNegativeButton(\"Cancel\", null)\n                .create()\n                .show();\n    }\n\n    // Highlights occurrences of a specific word in the document\n    private void highlightText(String highlightWord) {\n        if (highlightWord.isEmpty()) {\n            documentTextView.setText(originalContent);\n            return;\n        }\n\n        SpannableString spannableString = new SpannableString(originalContent);\n        int highlightColor = ContextCompat.getColor(this, R.color.highlight_color);\n\n        int startIndex = 0;\n        while ((startIndex = originalContent.toLowerCase().indexOf(highlightWord.toLowerCase(), startIndex)) != -1) {\n            spannableString.setSpan(\n                    new BackgroundColorSpan(highlightColor),\n                    startIndex,\n                    startIndex + highlightWord.length(),\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n            );\n            startIndex += highlightWord.length();\n        }\n\n        documentTextView.setText(spannableString);\n    }\n\n    // Sorts paragraphs alphabetically\n    private void sortContentAlphabetically() {\n        Collections.sort(paragraphs);\n        documentTextView.setText(String.join(\"\n\n\", paragraphs));\n    }\n\n    // Placeholder function for sorting by relevance\n    private void sortContentByRelevance() {\n        Toast.makeText(this, \"Relevance sorting not implemented\", Toast.LENGTH_SHORT).show();\n        documentTextView.setText(originalContent);\n    }\n}\n"
    },
    {
      "codeblockTitle": "Activity_main.xml",
      "code": "\n\n<resources>\n    <string name=\"app_name\">Document</string>\n    <string name=\"digital_transformation_content\">ZZZ\n\n\n        Digital transformation is the integration of digital technology into all areas of a business, fundamentally changing how you operate and deliver value to customers. It's also a cultural change that requires organizations to continually challenge the status quo, experiment, and get comfortable with failure.\n\n\n\nBeyond that, it's a reimagining of business in the digital age. Digital transformation is about using technology to improve business processes, culture, and customer experiences. It goes beyond traditional sales channels, digital optimization, and day-to-day realities.\n\nThe process involves rethinking old operating models, experimenting more, and becoming more agile in your ability to respond to customers. Digital transformation means different things to different organizations, but the core is the same: leveraging technology to create new – or modify existing – business processes, culture, and customer experiences.\n\n\n\nKey components of digital transformation include:\n1. Customer Experience: Enhancing interactions through digital channels\n2. Operational Processes: Streamlining internal operations with technology\n3. Business Models: Creating new revenue streams through digital innovations\n\n\nSuccessful digital transformation requires:\n- Leadership commitment\n- Cultural change\n- Continuous learning\n- Technological investment\n- Customer-centric approachDigital transformation is the integration of digital technology into all areas of a business, fundamentally changing how you operate and deliver value to customers. It's also a cultural change that requires organizations to continually challenge the status quo, experiment, and get comfortable with failure.\n\nBeyond that, it's a reimagining of business in the digital age. Digital transformation is about using technology to improve business processes, culture, and customer experiences. It goes beyond traditional sales channels, digital optimization, and day-to-day realities.\n\nThe process involves rethinking old operating models, experimenting more, and becoming more agile in your ability to respond to customers. Digital transformation means different things to different organizations, but the core is the same: leveraging technology to create new – or modify existing – business processes, culture, and customer experiences.\n\nKey components of digital transformation include:\n1. Customer Experience: Enhancing interactions through digital channels\n2. Operational Processes: Streamlining internal operations with technology\n3. Business Models: Creating new revenue streams through digital innovations\n\nSuccessful digital transformation requires:\n- Leadership commitment\n- Cultural change\n- Continuous learning\n- Technological investment\n- Customer-centric approachDigital transformation is the integration of digital technology into all areas of a business, fundamentally changing how you operate and deliver value to customers. It's also a cultural change that requires organizations to continually challenge the status quo, experiment, and get comfortable with failure.\n\nBeyond that, it's a reimagining of business in the digital age. Digital transformation is about using technology to improve business processes, culture, and customer experiences. It goes beyond traditional sales channels, digital optimization, and day-to-day realities.\n\nThe process involves rethinking old operating models, experimenting more, and becoming more agile in your ability to respond to customers. Digital transformation means different things to different organizations, but the core is the same: leveraging technology to create new – or modify existing – business processes, culture, and customer experiences.\n\n\n\nKey components of digital transformation include:\n1. Customer Experience: Enhancing interactions through digital channels\n2. Operational Processes: Streamlining internal operations with technology\n3. Business Models: Creating new revenue streams through digital innovations\n\nSuccessful digital transformation requires:\n- Leadership commitment\n- Cultural change\n- Continuous learning\n- Technological investment\n- Customer-centric approach tester</string>\n</resources>\n"
    },
    {
      "codeblockTitle": "res/strings.xml",
      "code": "\n<resources>\n    <string name=\"app_name\">Document</string>\n    <string name=\"digital_transformation_content\">ZZZ\n\n\n        Digital transformation is the integration of digital technology into all areas of a business, fundamentally changing how you operate and deliver value to customers. It's also a cultural change that requires organizations to continually challenge the status quo, experiment, and get comfortable with failure.\n\n\n\nBeyond that, it's a reimagining of business in the digital age. Digital transformation is about using technology to improve business processes, culture, and customer experiences. It goes beyond traditional sales channels, digital optimization, and day-to-day realities.\n\nThe process involves rethinking old operating models, experimenting more, and becoming more agile in your ability to respond to customers. Digital transformation means different things to different organizations, but the core is the same: leveraging technology to create new – or modify existing – business processes, culture, and customer experiences.\n\n\n\nKey components of digital transformation include:\n1. Customer Experience: Enhancing interactions through digital channels\n2. Operational Processes: Streamlining internal operations with technology\n3. Business Models: Creating new revenue streams through digital innovations\n\n\nSuccessful digital transformation requires:\n- Leadership commitment\n- Cultural change\n- Continuous learning\n- Technological investment\n- Customer-centric approachDigital transformation is the integration of digital technology into all areas of a business, fundamentally changing how you operate and deliver value to customers. It's also a cultural change that requires organizations to continually challenge the status quo, experiment, and get comfortable with failure.\n\nBeyond that, it's a reimagining of business in the digital age. Digital transformation is about using technology to improve business processes, culture, and customer experiences. It goes beyond traditional sales channels, digital optimization, and day-to-day realities.\n\nThe process involves rethinking old operating models, experimenting more, and becoming more agile in your ability to respond to customers. Digital transformation means different things to different organizations, but the core is the same: leveraging technology to create new – or modify existing – business processes, culture, and customer experiences.\n\nKey components of digital transformation include:\n1. Customer Experience: Enhancing interactions through digital channels\n2. Operational Processes: Streamlining internal operations with technology\n3. Business Models: Creating new revenue streams through digital innovations\n\nSuccessful digital transformation requires:\n- Leadership commitment\n- Cultural change\n- Continuous learning\n- Technological investment\n- Customer-centric approachDigital transformation is the integration of digital technology into all areas of a business, fundamentally changing how you operate and deliver value to customers. It's also a cultural change that requires organizations to continually challenge the status quo, experiment, and get comfortable with failure.\n\nBeyond that, it's a reimagining of business in the digital age. Digital transformation is about using technology to improve business processes, culture, and customer experiences. It goes beyond traditional sales channels, digital optimization, and day-to-day realities.\n\nThe process involves rethinking old operating models, experimenting more, and becoming more agile in your ability to respond to customers. Digital transformation means different things to different organizations, but the core is the same: leveraging technology to create new – or modify existing – business processes, culture, and customer experiences.\n\n\n\nKey components of digital transformation include:\n1. Customer Experience: Enhancing interactions through digital channels\n2. Operational Processes: Streamlining internal operations with technology\n3. Business Models: Creating new revenue streams through digital innovations\n\nSuccessful digital transformation requires:\n- Leadership commitment\n- Cultural change\n- Continuous learning\n- Technological investment\n- Customer-centric approach tester</string>\n</resources>\n"
    },
    {
      "codeblockTitle": "res/menu/filter_menu.xml",
      "code": "\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item\n        android:id=\"@+id/menu_search\"\n        android:title=\"Search Keywords\"/>\n    <item\n        android:id=\"@+id/menu_highlight\"\n        android:title=\"Highlight\"/>\n    <item\n        android:title=\"Sort\">\n        <menu>\n            <item\n                android:id=\"@+id/menu_sort_alphabetical\"\n                android:title=\"Alphabetically\"/>\n            <item\n                android:id=\"@+id/menu_sort_relevance\"\n                android:title=\"By Relevance\"/>\n        </menu>\n    </item>\n</menu>"
    },
    {
      "codeblockTitle": "dialog_search.xml",
      "code":"\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\">\n\n    <!-- EditText input for entering search/highlight terms -->\n    <EditText\n        android:id=\"@+id/search_edit_text\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Enter search keyword\"\n        android:inputType=\"text\"/>\n\n</LinearLayout>\n"
    }
  ]
}
