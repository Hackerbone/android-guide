{
  "snippets": [
    {
      "codeblockTitle": "MainActicty.java",
      "code": "package com.example.myapplication;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.DatePicker;\nimport android.widget.Spinner;\nimport android.widget.TimePicker;\nimport android.widget.ToggleButton;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.view.ViewCompat;\nimport androidx.core.graphics.Insets;\nimport androidx.core.view.WindowInsetsCompat;\n\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Spinner spinnerMovie, spinnerTheatre;\n    private DatePicker datePickerShow;\n    private TimePicker timePickerShow;\n    private ToggleButton toggleTicketType;\n    private Button btnBookNow, btnReset;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Enable edge-to-edge display\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\n            return insets;\n        });\n\n        // Initialize UI elements\n        spinnerMovie = findViewById(R.id.spinnerMovie);\n        spinnerTheatre = findViewById(R.id.spinnerTheatre);\n        datePickerShow = findViewById(R.id.datePickerShow);\n        timePickerShow = findViewById(R.id.timePickerShow);\n        toggleTicketType = findViewById(R.id.toggleTicketType);\n        btnBookNow = findViewById(R.id.btnBookNow);\n        btnReset = findViewById(R.id.btnReset);\n\n        // Populate spinners from arrays.xml resources\n        ArrayAdapter<CharSequence> movieAdapter = ArrayAdapter.createFromResource(this,\n                R.array.movies, android.R.layout.simple_spinner_item);\n        movieAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinnerMovie.setAdapter(movieAdapter);\n\n        ArrayAdapter<CharSequence> theatreAdapter = ArrayAdapter.createFromResource(this,\n                R.array.theatres, android.R.layout.simple_spinner_item);\n        theatreAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinnerTheatre.setAdapter(theatreAdapter);\n\n        // Set TimePicker to 12-hour mode (or 24-hour if preferred)\n        timePickerShow.setIs24HourView(false);\n\n        // Initially enable Book Now (subject to further checks)\n        btnBookNow.setEnabled(true);\n\n        // Listen for changes on the TimePicker to check premium ticket timing\n        timePickerShow.setOnTimeChangedListener((view, hourOfDay, minute) -> {\n            if (toggleTicketType.isChecked()) { // Premium selected\n                if (hourOfDay < 12) {\n                    btnBookNow.setEnabled(false);\n                    Toast.makeText(MainActivity.this,\n                            \"Premium tickets require a showtime after 12:00 PM\", Toast.LENGTH_SHORT).show();\n                } else {\n                    btnBookNow.setEnabled(true);\n                }\n            }\n        });\n\n        // Listen for ToggleButton changes\n        toggleTicketType.setOnCheckedChangeListener((buttonView, isChecked) -> {\n            if (isChecked) { // Premium selected\n                int hour = timePickerShow.getHour();\n                if (hour < 12) {\n                    btnBookNow.setEnabled(false);\n                    Toast.makeText(MainActivity.this,\n                            \"Premium tickets require a showtime after 12:00 PM\", Toast.LENGTH_SHORT).show();\n                } else {\n                    btnBookNow.setEnabled(true);\n                }\n            } else {\n                btnBookNow.setEnabled(true);\n            }\n        });\n\n        // Book Now button click listener\n        btnBookNow.setOnClickListener(v -> {\n            // Validate for premium: ensure selected time is after 12:00 PM\n            if (toggleTicketType.isChecked() && timePickerShow.getHour() < 12) {\n                Toast.makeText(MainActivity.this,\n                        \"Please select a showtime after 12:00 PM for Premium tickets\", Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            // Gather values from UI\n            String movie = spinnerMovie.getSelectedItem().toString();\n            String theatre = spinnerTheatre.getSelectedItem().toString();\n\n            // Get date from DatePicker (month is 0-indexed)\n            int day = datePickerShow.getDayOfMonth();\n            int month = datePickerShow.getMonth();\n            int year = datePickerShow.getYear();\n            String dateOfShow = day + \"/\" + (month + 1) + \"/\" + year;\n\n            // Get time from TimePicker\n            int hour = timePickerShow.getHour();\n            int minute = timePickerShow.getMinute();\n            String timeOfShow = String.format(\"%02d:%02d\", hour, minute);\n\n            // Determine ticket type\n            String ticketType = toggleTicketType.isChecked() ? \"Premium\" : \"Standard\";\n\n            // Dummy available seats calculation (could be dynamic in a real app)\n            int availableSeats = 50;\n\n            // Start the BookingDetailsActivity and pass the details\n            Intent intent = new Intent(MainActivity.this, BookingDetailsActivity.class);\n            intent.putExtra(\"movie\", movie);\n            intent.putExtra(\"theatre\", theatre);\n            intent.putExtra(\"dateOfShow\", dateOfShow);\n            intent.putExtra(\"timeOfShow\", timeOfShow);\n            intent.putExtra(\"ticketType\", ticketType);\n            intent.putExtra(\"availableSeats\", availableSeats);\n            startActivity(intent);\n        });\n\n        // Reset button click listener: clears all inputs and resets DatePicker to current date\n        btnReset.setOnClickListener(v -> {\n            spinnerMovie.setSelection(0);\n            spinnerTheatre.setSelection(0);\n\n            // Reset DatePicker to the current date\n            Calendar calendar = Calendar.getInstance();\n            datePickerShow.updateDate(calendar.get(Calendar.YEAR),\n                    calendar.get(Calendar.MONTH),\n                    calendar.get(Calendar.DAY_OF_MONTH));\n\n            // Reset TimePicker to current time\n            timePickerShow.setHour(calendar.get(Calendar.HOUR_OF_DAY));\n            timePickerShow.setMinute(calendar.get(Calendar.MINUTE));\n\n            // Reset ToggleButton to Standard (unchecked)\n            toggleTicketType.setChecked(false);\n\n            // Ensure Book Now is enabled\n            btnBookNow.setEnabled(true);\n        });\n    }\n}"
    },
    {
      "codeblockTitle": "BookingDetailsActivity.java",
      "code": "package com.example.myapplication;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class BookingDetailsActivity extends AppCompatActivity {\n\n    private TextView tvMovie, tvTheatre, tvDate, tvTime, tvTicketType, tvSeats;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_booking_details);\n\n        tvMovie = findViewById(R.id.tvMovie);\n        tvTheatre = findViewById(R.id.tvTheatre);\n        tvDate = findViewById(R.id.tvDate);\n        tvTime = findViewById(R.id.tvTime);\n        tvTicketType = findViewById(R.id.tvTicketType);\n        tvSeats = findViewById(R.id.tvSeats);\n\n        // Retrieve data passed from MainActivity\n        String movie = getIntent().getStringExtra(\"movie\");\n        String theatre = getIntent().getStringExtra(\"theatre\");\n        String dateOfShow = getIntent().getStringExtra(\"dateOfShow\");\n        String timeOfShow = getIntent().getStringExtra(\"timeOfShow\");\n        String ticketType = getIntent().getStringExtra(\"ticketType\");\n        int availableSeats = getIntent().getIntExtra(\"availableSeats\", 0);\n\n        // Display the booking details\n        tvMovie.setText(\"Movie: \" + movie);\n        tvTheatre.setText(\"Theatre: \" + theatre);\n        tvDate.setText(\"Date: \" + dateOfShow);\n        tvTime.setText(\"Time: \" + timeOfShow);\n        tvTicketType.setText(\"Ticket Type: \" + ticketType);\n        tvSeats.setText(\"Available Seats: \" + availableSeats);\n    }\n}"
    },
    {
      "codeblockTitle": "activity_booking_details.xml",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"16dp\">\n\n    <!-- Title -->\n    <TextView\n        android:id=\"@+id/tvTitle\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Booking Details\"\n        android:textSize=\"20sp\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" />\n\n    <!-- Movie -->\n    <TextView\n        android:id=\"@+id/tvMovie\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Movie: \"\n        android:textSize=\"16sp\"\n        app:layout_constraintTop_toBottomOf=\"@id/tvTitle\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"20dp\" />\n\n    <!-- Theatre -->\n    <TextView\n        android:id=\"@+id/tvTheatre\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Theatre: \"\n        android:textSize=\"16sp\"\n        app:layout_constraintTop_toBottomOf=\"@id/tvMovie\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"10dp\" />\n\n    <!-- Date -->\n    <TextView\n        android:id=\"@+id/tvDate\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Date: \"\n        android:textSize=\"16sp\"\n        app:layout_constraintTop_toBottomOf=\"@id/tvTheatre\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"10dp\" />\n\n    <!-- Time -->\n    <TextView\n        android:id=\"@+id/tvTime\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Time: \"\n        android:textSize=\"16sp\"\n        app:layout_constraintTop_toBottomOf=\"@id/tvDate\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"10dp\" />\n\n    <!-- Ticket Type -->\n    <TextView\n        android:id=\"@+id/tvTicketType\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Ticket Type: \"\n        android:textSize=\"16sp\"\n        app:layout_constraintTop_toBottomOf=\"@id/tvTime\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"10dp\" />\n\n    <!-- Available Seats -->\n    <TextView\n        android:id=\"@+id/tvSeats\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Available Seats: \"\n        android:textSize=\"16sp\"\n        app:layout_constraintTop_toBottomOf=\"@id/tvTicketType\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"10dp\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>"
    },
    {
      "codeblockTitle": "res/values/arrays.xml",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <string-array name=\"movies\">\n        <item>Inception</item>\n        <item>The Dark Knight</item>\n        <item>Interstellar</item>\n    </string-array>\n    <string-array name=\"theatres\">\n        <item>Theatre 1</item>\n        <item>Theatre 2</item>\n        <item>Theatre 3</item>\n    </string-array>\n</resources>"
    },
    {
      "codeblockTitle": "activity_main.xml",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"\n    android:padding=\"16dp\">\n\n    <!-- Movie Spinner -->\n    <Spinner\n        android:id=\"@+id/spinnerMovie\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"20dp\" />\n\n    <!-- Theatre Spinner -->\n    <Spinner\n        android:id=\"@+id/spinnerTheatre\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/spinnerMovie\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"20dp\" />\n\n    <!-- DatePicker for show date -->\n\n    <!-- TimePicker for showtime -->\n    <DatePicker\n        android:id=\"@+id/datePickerShow\"\n        android:layout_width=\"273dp\"\n        android:layout_height=\"408dp\"\n        android:layout_marginTop=\"20dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/spinnerTheatre\" />\n\n    <TimePicker\n        android:id=\"@+id/timePickerShow\"\n        android:layout_width=\"242dp\"\n        android:layout_height=\"157dp\"\n        android:layout_marginTop=\"20dp\"\n        android:timePickerMode=\"spinner\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/datePickerShow\" />\n\n    <!-- ToggleButton for ticket type -->\n    <ToggleButton\n        android:id=\"@+id/toggleTicketType\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textOff=\"Standard\"\n        android:textOn=\"Premium\"\n        app:layout_constraintTop_toBottomOf=\"@id/timePickerShow\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginTop=\"20dp\" />\n\n    <!-- Book Now Button -->\n    <Button\n        android:id=\"@+id/btnBookNow\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Book Now\"\n        app:layout_constraintTop_toBottomOf=\"@id/toggleTicketType\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginTop=\"20dp\" />\n\n    <!-- Reset Button -->\n    <Button\n        android:id=\"@+id/btnReset\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Reset\"\n        app:layout_constraintTop_toBottomOf=\"@id/toggleTicketType\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"20dp\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>"
    }
  ]
}
