{
  "snippets": [
    {
      "codeblockTitle": "activity_main.xml - Main Layout",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:context=\".MainActivity\">\n\n    <EditText\n        android:id=\"@+id/name\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"16dp\"\n        android:hint=\"Name\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n    <EditText\n        android:id=\"@+id/regno\"\n        android:hint=\"Reg No\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/name\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <Spinner\n        android:id=\"@+id/courseSpinner\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/regno\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <Spinner\n        android:id=\"@+id/semesterSpinner\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/courseSpinner\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <Button\n        android:id=\"@+id/datePickerBtn\"\n        android:text=\"Select Date of Birth\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/semesterSpinner\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <Button\n        android:id=\"@+id/timePickerBtn\"\n        android:text=\"Select Time\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/datePickerBtn\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <EditText\n        android:id=\"@+id/m1\"\n        android:hint=\"Marks 1\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/timePickerBtn\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <EditText\n        android:id=\"@+id/m2\"\n        android:hint=\"Marks 2\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/m1\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <EditText\n        android:id=\"@+id/m3\"\n        android:hint=\"Marks 3\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/m2\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <Button\n        android:id=\"@+id/insertBtn\"\n        android:text=\"Insert Student\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/m3\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"16dp\" />\n\n    <Button\n        android:id=\"@+id/searchBtn\"\n        android:text=\"Search Students\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/insertBtn\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"16dp\" />\n\n    <EditText\n        android:id=\"@+id/searchRegNo\"\n        android:hint=\"Enter Reg No to Search\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/searchBtn\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_margin=\"16dp\" />\n\n    <Button\n        android:id=\"@+id/searchByRegBtn\"\n        android:text=\"Search by Reg No\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/searchRegNo\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"16dp\" />\n</androidx.constraintlayout.widget.ConstraintLayout>"
    },
    {
      "codeblockTitle": "main_menu.xml - Menu Layout",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item android:id=\"@+id/insert\" android:title=\"Insert\"/>\n    <item android:id=\"@+id/view\" android:title=\"View\"/>\n    <item android:id=\"@+id/grade\" android:title=\"Grade\"/>\n    <item android:id=\"@+id/clear\" android:title=\"Clear\"/>\n    <item android:id=\"@+id/settings\" android:title=\"Settings\"/>\n    <item android:id=\"@+id/help\" android:title=\"Help\"/>\n</menu>"
    },
    {
      "codeblockTitle": "MainActivity.kt - Main Activity",
      "code": "package com.example.endsem\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Spinner\nimport android.widget.Toast\nimport androidx.appcompat.app.AlertDialog\nimport androidx.appcompat.app.AppCompatActivity\nimport android.widget.ArrayAdapter\nimport android.app.DatePickerDialog\nimport android.app.TimePickerDialog\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n\n    lateinit var dbHelper: DBHelper\n    lateinit var name: EditText\n    lateinit var regno: EditText\n    lateinit var m1: EditText\n    lateinit var m2: EditText\n    lateinit var m3: EditText\n    lateinit var searchBtn: Button\n    lateinit var courseSpinner: Spinner\n    lateinit var semesterSpinner: Spinner\n    lateinit var datePickerBtn: Button\n    lateinit var timePickerBtn: Button\n    private var selectedDate: String = \"\"\n    private var selectedTime: String = \"\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        dbHelper = DBHelper(this)\n\n        // Initialize views\n        name = findViewById(R.id.name)\n        regno = findViewById(R.id.regno)\n        m1 = findViewById(R.id.m1)\n        m2 = findViewById(R.id.m2)\n        m3 = findViewById(R.id.m3)\n        searchBtn = findViewById(R.id.searchBtn)\n        courseSpinner = findViewById(R.id.courseSpinner)\n        semesterSpinner = findViewById(R.id.semesterSpinner)\n        datePickerBtn = findViewById(R.id.datePickerBtn)\n        timePickerBtn = findViewById(R.id.timePickerBtn)\n\n        // Setup course spinner\n        val courses = arrayOf(\"Select Course\", \"B.Tech\", \"M.Tech\", \"B.Sc\", \"M.Sc\")\n        val courseAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_item, courses)\n        courseAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n        courseSpinner.adapter = courseAdapter\n\n        // Setup semester spinner\n        val semesters = arrayOf(\"Select Semester\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\")\n        val semesterAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_item, semesters)\n        semesterAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n        semesterSpinner.adapter = semesterAdapter\n\n        // Date picker button click\n        datePickerBtn.setOnClickListener {\n            val calendar = Calendar.getInstance()\n            val year = calendar.get(Calendar.YEAR)\n            val month = calendar.get(Calendar.MONTH)\n            val day = calendar.get(Calendar.DAY_OF_MONTH)\n\n            DatePickerDialog(this, { _, selectedYear, selectedMonth, selectedDay ->\n                selectedDate = \"$selectedDay/${selectedMonth + 1}/$selectedYear\"\n                datePickerBtn.text = \"DOB: $selectedDate\"\n            }, year, month, day).show()\n        }\n\n        // Time picker button click\n        timePickerBtn.setOnClickListener {\n            val calendar = Calendar.getInstance()\n            val hour = calendar.get(Calendar.HOUR_OF_DAY)\n            val minute = calendar.get(Calendar.MINUTE)\n\n            TimePickerDialog(this, { _, selectedHour, selectedMinute ->\n                selectedTime = String.format(\"%02d:%02d\", selectedHour, selectedMinute)\n                timePickerBtn.text = \"Time: $selectedTime\"\n            }, hour, minute, true).show()\n        }\n\n        searchBtn.setOnClickListener {\n            startActivity(Intent(this, SearchActivity::class.java))\n        }\n\n        val searchByRegBtn = findViewById<Button>(R.id.searchByRegBtn)\n        val searchRegNo = findViewById<EditText>(R.id.searchRegNo)\n\n        searchByRegBtn.setOnClickListener {\n            val regNo = searchRegNo.text.toString()\n            if (regNo.isNotEmpty()) {\n                val intent = Intent(this, SearchResultsActivity::class.java)\n                intent.putExtra(\"REG_NO\", regNo)\n                startActivity(intent)\n            } else {\n                Toast.makeText(this, \"Please enter a registration number\", Toast.LENGTH_SHORT).show()\n            }\n        }\n\n        val insertBtn = findViewById<Button>(R.id.insertBtn)\n        insertBtn.setOnClickListener {\n            val n = name.text.toString()\n            val r = regno.text.toString()\n            val mark1 = m1.text.toString().toIntOrNull() ?: 0\n            val mark2 = m2.text.toString().toIntOrNull() ?: 0\n            val mark3 = m3.text.toString().toIntOrNull() ?: 0\n            val course = courseSpinner.selectedItem.toString()\n            val semester = semesterSpinner.selectedItem.toString()\n\n            if (course == \"Select Course\" || semester == \"Select Semester\") {\n                Toast.makeText(this, \"Please select course and semester\", Toast.LENGTH_SHORT).show()\n                return@setOnClickListener\n            }\n\n            dbHelper.insertData(n, r, mark1, mark2, mark3, course, semester, selectedDate, selectedTime)\n            Toast.makeText(this, \"Inserted via Button\", Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        menuInflater.inflate(R.menu.main_menu, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        when (item.itemId) {\n            R.id.insert -> {\n                val n = name.text.toString()\n                val r = regno.text.toString()\n                val mark1 = m1.text.toString().toIntOrNull() ?: 0\n                val mark2 = m2.text.toString().toIntOrNull() ?: 0\n                val mark3 = m3.text.toString().toIntOrNull() ?: 0\n                val course = courseSpinner.selectedItem.toString()\n                val semester = semesterSpinner.selectedItem.toString()\n\n                if (course == \"Select Course\" || semester == \"Select Semester\") {\n                    Toast.makeText(this, \"Please select course and semester\", Toast.LENGTH_SHORT).show()\n                    return true\n                }\n\n                dbHelper.insertData(n, r, mark1, mark2, mark3, course, semester, selectedDate, selectedTime)\n                Toast.makeText(this, \"Inserted\", Toast.LENGTH_SHORT).show()\n                return true\n            }\n\n            R.id.view -> {\n                val students = dbHelper.getAllStudents()\n                if (students.isEmpty()) {\n                    Toast.makeText(this, \"No students found\", Toast.LENGTH_SHORT).show()\n                } else {\n                    val builder = StringBuilder()\n                    for (student in students) {\n                        builder.append(\"Name: ${student.name}\\n\")\n                        builder.append(\"Reg No: ${student.regNo}\\n\")\n                        builder.append(\"Course: ${student.course}\\n\")\n                        builder.append(\"Semester: ${student.semester}\\n\")\n                        builder.append(\"DOB: ${student.dob}\\n\")\n                        builder.append(\"Time: ${student.time}\\n\")\n                        builder.append(\"Mark1: ${student.mark1}, Mark2: ${student.mark2}, Mark3: ${student.mark3}\\n\")\n                        builder.append(\"----------\\n\")\n                    }\n\n                    AlertDialog.Builder(this)\n                        .setTitle(\"Student Records\")\n                        .setMessage(builder.toString())\n                        .setPositiveButton(\"OK\", null)\n                        .show()\n                }\n                return true\n            }\n\n            R.id.grade -> {\n                val r = regno.text.toString()\n                val avg = dbHelper.calculateAverage(r)\n                val grade = when {\n                    avg >= 90 -> \"A\"\n                    avg >= 75 -> \"B\"\n                    avg >= 60 -> \"C\"\n                    else -> \"D\"\n                }\n                Toast.makeText(this, \"Grade: $grade\", Toast.LENGTH_SHORT).show()\n                return true\n            }\n\n            R.id.clear -> {\n                name.text.clear()\n                regno.text.clear()\n                m1.text.clear()\n                m2.text.clear()\n                m3.text.clear()\n                courseSpinner.setSelection(0)\n                semesterSpinner.setSelection(0)\n                datePickerBtn.text = \"Select Date of Birth\"\n                timePickerBtn.text = \"Select Time\"\n                selectedDate = \"\"\n                selectedTime = \"\"\n                return true\n            }\n\n            R.id.settings -> {\n                Toast.makeText(this, \"Settings clicked\", Toast.LENGTH_SHORT).show()\n                return true\n            }\n\n            R.id.help -> {\n                AlertDialog.Builder(this)\n                    .setTitle(\"Help\")\n                    .setMessage(\"1. Enter student details\\n2. Select course and semester\\n3. Choose date and time\\n4. Click Insert to save\\n5. Use View to see all records\\n6. Use Search to find specific students\")\n                    .setPositiveButton(\"OK\", null)\n                    .show()\n                return true\n            }\n        }\n        return super.onOptionsItemSelected(item)\n    }\n}"
    },
    {
      "codeblockTitle": "themes.xml - Theme Resources",
      "code": "<resources xmlns:tools=\"http://schemas.android.com/tools\">\n    <!-- Base application theme. -->\n    <style name=\"Base.Theme.Endsem\" parent=\"Theme.MaterialComponents.DayNight.DarkActionBar\">\n        <!-- You can customize colors here -->\n    </style>\n\n    <style name=\"Theme.Endsem\" parent=\"Base.Theme.Endsem\" />\n</resources>"
    },
    {
      "codeblockTitle": "DBHelper.kt - Database Helper",
      "code": "package com.example.endsem\n\nimport android.content.ContentValues\nimport android.content.Context\nimport android.database.sqlite.SQLiteDatabase\nimport android.database.sqlite.SQLiteOpenHelper\n\nclass DBHelper(context: Context) : SQLiteOpenHelper(context, \"student.db\", null, 1) {\n\n    override fun onCreate(db: SQLiteDatabase) {\n        db.execSQL(\"CREATE TABLE student(name TEXT, regno TEXT PRIMARY KEY, m1 INTEGER, m2 INTEGER, m3 INTEGER, course TEXT, semester TEXT, dob TEXT, time TEXT)\")\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        db.execSQL(\"DROP TABLE IF EXISTS student\")\n        onCreate(db)\n    }\n\n    fun insertData(name: String, regno: String, m1: Int, m2: Int, m3: Int, course: String, semester: String, dob: String, time: String) {\n        val db = writableDatabase\n        val cv = ContentValues()\n        cv.put(\"name\", name)\n        cv.put(\"regno\", regno)\n        cv.put(\"m1\", m1)\n        cv.put(\"m2\", m2)\n        cv.put(\"m3\", m3)\n        cv.put(\"course\", course)\n        cv.put(\"semester\", semester)\n        cv.put(\"dob\", dob)\n        cv.put(\"time\", time)\n        db.insert(\"student\", null, cv)\n    }\n\n    fun viewAll(): String {\n        val db = readableDatabase\n        val cursor = db.rawQuery(\"SELECT * FROM student\", null)\n        val buffer = StringBuffer()\n        while (cursor.moveToNext()) {\n            buffer.append(\"Name: ${cursor.getString(0)}\\n\")\n            buffer.append(\"Reg No: ${cursor.getString(1)}\\n\")\n            buffer.append(\"Marks: ${cursor.getInt(2)}, ${cursor.getInt(3)}, ${cursor.getInt(4)}\\n\\n\")\n        }\n        cursor.close()\n        return buffer.toString()\n    }\n\n    fun getAllStudents(): List<Student> {\n        val list = mutableListOf<Student>()\n        val db = readableDatabase\n        val cursor = db.rawQuery(\"SELECT * FROM student\", null)\n        if (cursor.moveToFirst()) {\n            do {\n                val name = cursor.getString(0)\n                val regNo = cursor.getString(1)\n                val m1 = cursor.getInt(2)\n                val m2 = cursor.getInt(3)\n                val m3 = cursor.getInt(4)\n                val course = cursor.getString(5)\n                val semester = cursor.getString(6)\n                val dob = cursor.getString(7)\n                val time = cursor.getString(8)\n                list.add(Student(name, regNo, m1, m2, m3, course, semester, dob, time))\n            } while (cursor.moveToNext())\n        }\n        cursor.close()\n        return list\n    }\n\n    fun calculateAverage(regno: String): Int {\n        val db = readableDatabase\n        val cursor = db.rawQuery(\"SELECT m1, m2, m3 FROM student WHERE regno=?\", arrayOf(regno))\n        var avg = 0\n        if (cursor.moveToFirst()) {\n            avg = (cursor.getInt(0) + cursor.getInt(1) + cursor.getInt(2)) / 3\n        }\n        cursor.close()\n        return avg\n    }\n\n    fun searchAll(): ArrayList<String> {\n        val db = readableDatabase\n        val cursor = db.rawQuery(\"SELECT * FROM student\", null)\n        val list = ArrayList<String>()\n        while (cursor.moveToNext()) {\n            list.add(\"${cursor.getString(0)} - ${cursor.getString(1)}\")\n        }\n        cursor.close()\n        return list\n    }\n\n    fun searchByRegNo(regNo: String): Student? {\n        val db = readableDatabase\n        val cursor = db.rawQuery(\"SELECT * FROM student WHERE regno=?\", arrayOf(regNo))\n        var student: Student? = null\n        if (cursor.moveToFirst()) {\n            student = Student(\n                cursor.getString(0),\n                cursor.getString(1),\n                cursor.getInt(2),\n                cursor.getInt(3),\n                cursor.getInt(4),\n                cursor.getString(5),\n                cursor.getString(6),\n                cursor.getString(7),\n                cursor.getString(8)\n            )\n        }\n        cursor.close()\n        return student\n    }\n}"
    },
    {
      "codeblockTitle": "Student.kt - Data Model",
      "code": "package com.example.endsem\n\ndata class Student(\n    val name: String,\n    val regNo: String,\n    val mark1: Int,\n    val mark2: Int,\n    val mark3: Int,\n    val course: String = \"\",\n    val semester: String = \"\",\n    val dob: String = \"\",\n    val time: String = \"\"\n)"
    },
    {
      "codeblockTitle": "SearchActivity.kt - Search Activity",
      "code": "package com.example.endsem\n\nimport android.os.Bundle\nimport android.widget.ArrayAdapter\nimport android.widget.ListView\nimport androidx.appcompat.app.AppCompatActivity\n\nclass SearchActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_search)\n\n        val listView: ListView = findViewById(R.id.listView)\n        val dbHelper = DBHelper(this)\n        val studentList = dbHelper.searchAll()\n\n        val adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, studentList)\n        listView.adapter = adapter\n    }\n}"
    },
    {
      "codeblockTitle": "activity_search.xml - Search Layout",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    android:layout_height=\"match_parent\">\n\n    <ListView\n        android:id=\"@+id/listView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/>\n</LinearLayout>"
    },
    {
      "codeblockTitle": "activity_search_results.xml - Search Results Layout",
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"16dp\">\n\n    <TextView\n        android:id=\"@+id/nameText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"18sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n    <TextView\n        android:id=\"@+id/regNoText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/nameText\" />\n\n    <TextView\n        android:id=\"@+id/marksText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/regNoText\" />\n\n    <TextView\n        android:id=\"@+id/averageText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/marksText\" />\n\n    <TextView\n        android:id=\"@+id/gradeText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/averageText\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>"
    },
    {
      "codeblockTitle": "SearchResultsActivity.kt - Search Results Activity",
      "code": "package com.example.endsem\n\nimport android.os.Bundle\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\n\nclass SearchResultsActivity : AppCompatActivity() {\n\n    private lateinit var dbHelper: DBHelper\n    private lateinit var nameText: TextView\n    private lateinit var regNoText: TextView\n    private lateinit var marksText: TextView\n    private lateinit var averageText: TextView\n    private lateinit var gradeText: TextView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_search_results)\n\n        dbHelper = DBHelper(this)\n\n        // Initialize TextViews\n        nameText = findViewById(R.id.nameText)\n        regNoText = findViewById(R.id.regNoText)\n        marksText = findViewById(R.id.marksText)\n        averageText = findViewById(R.id.averageText)\n        gradeText = findViewById(R.id.gradeText)\n\n        // Get the registration number from the intent\n        val regNo = intent.getStringExtra(\"REG_NO\") ?: return\n\n        // Search for the student\n        val student = dbHelper.searchByRegNo(regNo)\n        if (student != null) {\n            // Display student details\n            nameText.text = \"Name: ${student.name}\"\n            regNoText.text = \"Registration Number: ${student.regNo}\"\n            marksText.text = \"Marks: ${student.mark1}, ${student.mark2}, ${student.mark3}\"\n            \n            val average = (student.mark1 + student.mark2 + student.mark3) / 3\n            averageText.text = \"Average: $average\"\n            \n            val grade = when {\n                average >= 90 -> \"A\"\n                average >= 75 -> \"B\"\n                average >= 60 -> \"C\"\n                else -> \"D\"\n            }\n            gradeText.text = \"Grade: $grade\"\n        } else {\n            // Student not found\n            nameText.text = \"Student not found\"\n            regNoText.text = \"\"\n            marksText.text = \"\"\n            averageText.text = \"\"\n            gradeText.text = \"\"\n        }\n    }\n}"
    }
  ]
}