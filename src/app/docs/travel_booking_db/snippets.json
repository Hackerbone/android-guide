{
    "snippets": [
      {
        "codeblockTitle": "activity_login.xml - Login Layout",
        "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\">\n\n    <EditText\n        android:id=\"@+id/username\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Username\"\n        android:inputType=\"text\"\n        android:layout_marginBottom=\"8dp\"/>\n\n    <EditText\n        android:id=\"@+id/password\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Password\"\n        android:inputType=\"textPassword\"\n        android:layout_marginBottom=\"16dp\"/>\n\n    <Button\n        android:id=\"@+id/loginBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Login\"\n        android:layout_marginBottom=\"8dp\"/>\n\n    <Button\n        android:id=\"@+id/registerBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Register\"\n        android:layout_marginBottom=\"8dp\"/>\n</LinearLayout>"
      },
      {
        "codeblockTitle": "activity_register.xml - Registration Layout",
        "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\">\n\n    <EditText\n        android:id=\"@+id/regUsername\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Username\"\n        android:inputType=\"text\"\n        android:layout_marginBottom=\"8dp\"/>\n\n    <EditText\n        android:id=\"@+id/regPassword\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Password\"\n        android:inputType=\"textPassword\"\n        android:layout_marginBottom=\"8dp\"/>\n\n    <EditText\n        android:id=\"@+id/confirmPassword\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Confirm Password\"\n        android:inputType=\"textPassword\"\n        android:layout_marginBottom=\"16dp\"/>\n\n    <Button\n        android:id=\"@+id/registerSubmitBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Register\"\n        android:layout_marginBottom=\"8dp\"/>\n</LinearLayout>"
      },
      {
        "codeblockTitle": "activity_travel.xml - Travel Booking Layout",
        "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\">\n\n    <Spinner\n        android:id=\"@+id/destinationSpinner\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"16dp\"/>\n\n    <Button\n        android:id=\"@+id/datePickerBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Select Date\"\n        android:layout_marginBottom=\"16dp\"/>\n\n    <Button\n        android:id=\"@+id/timePickerBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Select Time\"\n        android:layout_marginBottom=\"16dp\"/>\n\n    <Button\n        android:id=\"@+id/searchBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Search\"\n        android:layout_marginBottom=\"16dp\"/>\n\n    <Button\n        android:id=\"@+id/viewSearchesBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"View Previous Searches\"/>\n</LinearLayout>"
      },
      {
        "codeblockTitle": "DBHelper.kt - Database Helper",
        "code": "package com.example.travelbooking\n\nimport android.content.ContentValues\nimport android.content.Context\nimport android.database.sqlite.SQLiteDatabase\nimport android.database.sqlite.SQLiteOpenHelper\n\nclass DBHelper(context: Context) : SQLiteOpenHelper(context, \"travel.db\", null, 1) {\n\n    override fun onCreate(db: SQLiteDatabase) {\n        // Create users table\n        db.execSQL(\"CREATE TABLE users(username TEXT PRIMARY KEY, password TEXT)\")\n        // Create searches table\n        db.execSQL(\"CREATE TABLE searches(id INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT, destination TEXT, date TEXT, time TEXT)\")\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        db.execSQL(\"DROP TABLE IF EXISTS users\")\n        db.execSQL(\"DROP TABLE IF EXISTS searches\")\n        onCreate(db)\n    }\n\n    fun insertUser(username: String, password: String): Boolean {\n        val db = writableDatabase\n        val cv = ContentValues()\n        cv.put(\"username\", username)\n        cv.put(\"password\", password)\n        return db.insert(\"users\", null, cv) != -1L\n    }\n\n    fun checkUser(username: String, password: String): Boolean {\n        val db = readableDatabase\n        val cursor = db.rawQuery(\"SELECT * FROM users WHERE username=? AND password=?\", arrayOf(username, password))\n        val result = cursor.count > 0\n        cursor.close()\n        return result\n    }\n\n    fun insertSearch(username: String, destination: String, date: String, time: String) {\n        val db = writableDatabase\n        val cv = ContentValues()\n        cv.put(\"username\", username)\n        cv.put(\"destination\", destination)\n        cv.put(\"date\", date)\n        cv.put(\"time\", time)\n        db.insert(\"searches\", null, cv)\n    }\n\n    fun getSearches(username: String): List<Search> {\n        val list = mutableListOf<Search>()\n        val db = readableDatabase\n        val cursor = db.rawQuery(\"SELECT * FROM searches WHERE username=?\", arrayOf(username))\n        if (cursor.moveToFirst()) {\n            do {\n                val id = cursor.getInt(0)\n                val dest = cursor.getString(2)\n                val date = cursor.getString(3)\n                val time = cursor.getString(4)\n                list.add(Search(id, dest, date, time))\n            } while (cursor.moveToNext())\n        }\n        cursor.close()\n        return list\n    }\n}"
      },
      {
        "codeblockTitle": "Search.kt - Data Model",
        "code": "package com.example.travelbooking\n\ndata class Search(\n    val id: Int,\n    val destination: String,\n    val date: String,\n    val time: String\n)"
      },
      {
        "codeblockTitle": "LoginActivity.kt - Login Activity",
        "code": "package com.example.travelbooking\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\n\nclass LoginActivity : AppCompatActivity() {\n\n    private lateinit var dbHelper: DBHelper\n    private lateinit var username: EditText\n    private lateinit var password: EditText\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n\n        dbHelper = DBHelper(this)\n        username = findViewById(R.id.username)\n        password = findViewById(R.id.password)\n\n        findViewById<Button>(R.id.loginBtn).setOnClickListener {\n            val user = username.text.toString()\n            val pass = password.text.toString()\n\n            if (dbHelper.checkUser(user, pass)) {\n                val intent = Intent(this, TravelActivity::class.java)\n                intent.putExtra(\"username\", user)\n                startActivity(intent)\n            } else {\n                Toast.makeText(this, \"Invalid credentials\", Toast.LENGTH_SHORT).show()\n            }\n        }\n\n        findViewById<Button>(R.id.registerBtn).setOnClickListener {\n            startActivity(Intent(this, RegisterActivity::class.java))\n        }\n    }\n}"
      },
      {
        "codeblockTitle": "RegisterActivity.kt - Registration Activity",
        "code": "package com.example.travelbooking\n\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\n\nclass RegisterActivity : AppCompatActivity() {\n\n    private lateinit var dbHelper: DBHelper\n    private lateinit var username: EditText\n    private lateinit var password: EditText\n    private lateinit var confirmPassword: EditText\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_register)\n\n        dbHelper = DBHelper(this)\n        username = findViewById(R.id.regUsername)\n        password = findViewById(R.id.regPassword)\n        confirmPassword = findViewById(R.id.confirmPassword)\n\n        findViewById<Button>(R.id.registerSubmitBtn).setOnClickListener {\n            val user = username.text.toString()\n            val pass = password.text.toString()\n            val confirmPass = confirmPassword.text.toString()\n\n            if (pass != confirmPass) {\n                Toast.makeText(this, \"Passwords do not match\", Toast.LENGTH_SHORT).show()\n                return@setOnClickListener\n            }\n\n            if (dbHelper.insertUser(user, pass)) {\n                Toast.makeText(this, \"Registration successful\", Toast.LENGTH_SHORT).show()\n                finish()\n            } else {\n                Toast.makeText(this, \"Registration failed\", Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n}"
      },
      {
        "codeblockTitle": "TravelActivity.kt - Travel Booking Activity",
        "code": "package com.example.travelbooking\n\nimport android.app.DatePickerDialog\nimport android.app.TimePickerDialog\nimport android.content.Intent\nimport android.os.Bundle\nimport android.widget.ArrayAdapter\nimport android.widget.Button\nimport android.widget.Spinner\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport java.util.Calendar\n\nclass TravelActivity : AppCompatActivity() {\n\n    private lateinit var dbHelper: DBHelper\n    private lateinit var destinationSpinner: Spinner\n    private lateinit var datePickerBtn: Button\n    private lateinit var timePickerBtn: Button\n    private lateinit var searchBtn: Button\n    private lateinit var viewSearchesBtn: Button\n    private var selectedDate = \"\"\n    private var selectedTime = \"\"\n    private lateinit var username: String\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_travel)\n\n        dbHelper = DBHelper(this)\n        username = intent.getStringExtra(\"username\") ?: \"\"\n\n        destinationSpinner = findViewById(R.id.destinationSpinner)\n        datePickerBtn = findViewById(R.id.datePickerBtn)\n        timePickerBtn = findViewById(R.id.timePickerBtn)\n        searchBtn = findViewById(R.id.searchBtn)\n        viewSearchesBtn = findViewById(R.id.viewSearchesBtn)\n\n        // Setup destination spinner\n        val destinations = arrayOf(\"New York\", \"London\", \"Paris\", \"Tokyo\", \"Sydney\")\n        val adapter = ArrayAdapter(this, android.R.layout.simple_spinner_item, destinations)\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n        destinationSpinner.adapter = adapter\n\n        datePickerBtn.setOnClickListener {\n            val calendar = Calendar.getInstance()\n            DatePickerDialog(this, { _, year, month, day ->\n                selectedDate = \"$day/${month + 1}/$year\"\n                datePickerBtn.text = selectedDate\n            }, calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH),\n                calendar.get(Calendar.DAY_OF_MONTH)).show()\n        }\n\n        timePickerBtn.setOnClickListener {\n            val calendar = Calendar.getInstance()\n            TimePickerDialog(this, { _, hour, minute ->\n                selectedTime = \"$hour:$minute\"\n                timePickerBtn.text = selectedTime\n            }, calendar.get(Calendar.HOUR_OF_DAY), calendar.get(Calendar.MINUTE), true).show()\n        }\n\n        searchBtn.setOnClickListener {\n            val destination = destinationSpinner.selectedItem.toString()\n            if (selectedDate.isEmpty() || selectedTime.isEmpty()) {\n                Toast.makeText(this, \"Please select date and time\", Toast.LENGTH_SHORT).show()\n                return@setOnClickListener\n            }\n\n            dbHelper.insertSearch(username, destination, selectedDate, selectedTime)\n            Toast.makeText(this, \"Search saved\", Toast.LENGTH_SHORT).show()\n        }\n\n        viewSearchesBtn.setOnClickListener {\n            val intent = Intent(this, ViewSearchesActivity::class.java)\n            intent.putExtra(\"username\", username)\n            startActivity(intent)\n        }\n    }\n}"
      },
      {
        "codeblockTitle": "ViewSearchesActivity.kt - View Previous Searches",
        "code": "package com.example.travelbooking\n\nimport android.os.Bundle\nimport android.widget.ArrayAdapter\nimport android.widget.ListView\nimport androidx.appcompat.app.AppCompatActivity\n\nclass ViewSearchesActivity : AppCompatActivity() {\n\n    private lateinit var dbHelper: DBHelper\n    private lateinit var listView: ListView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_view_searches)\n\n        dbHelper = DBHelper(this)\n        listView = findViewById(R.id.searchesListView)\n\n        val username = intent.getStringExtra(\"username\") ?: \"\"\n        val searches = dbHelper.getSearches(username)\n        val searchStrings = searches.map { \"${it.destination} - ${it.date} ${it.time}\" }\n\n        val adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, searchStrings)\n        listView.adapter = adapter\n    }\n}"
      },
      {
        "codeblockTitle": "activity_view_searches.xml - View Searches Layout",
        "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\">\n\n    <ListView\n        android:id=\"@+id/searchesListView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/>\n</LinearLayout>"
      }
    ]
} 